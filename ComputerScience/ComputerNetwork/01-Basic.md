> #### 네트워크 기초 지식
> 19-07

<br><br>


# 네트워크란

여기서는 컴퓨터 네트워크를 말한다.
컴퓨터 네트워크란 컴퓨터와 컴퓨터가 무언가(`통신 매체`)에 의해 연결되어 어떤 것(`데이터`)을 주고받는 것이다.
다시 말하면, 컴퓨터 네트워크는 **컴퓨터와 컴퓨터가 그물망처럼 통신 매체로 연결되어 데이터를 운반하는 것을 말한다.**

복수의 컴퓨터가 리소스를 공유할 수 있다는 점에서 의미가 있다.
* 리소스: 컴퓨터나 사용자가 가진 물리적·논리적 **자원**
* 리소스를 공유함으로써 한 대로는 불가능했던 일도 가능해진다.
* 데이터를 주고받음으로써 리소스를 공유한다. (예: 프린터 공유)

<br><br>



# 데이터 통신 기초

(앞으로 여기에서) `데이터`: 컴퓨터상에서 리소스를 공유하기 위한 정보
* 데이터는 **Bit**로 구성된다. 0 이나 1인 상태를 유지할 수 있다.
* 비트로 만들어진 데이터를 전송한다.


### 데이터 통신에서 필요한 것
* `인터페이스`: (네트워크에서는) 컴퓨터 간 통신 매체 (파이프) - 두 개의 서로 다른 시스템 사이에 존재하며 정보의 송수신을 중개하는 것
* `프로토콜`: **데이터를 주고받기 위한 규칙.** 보내는 쪽과 받는 쪽이 같은 프로토콜을 사용해야 함

<br><br>



# 회선 교환과 패킷 교환

### 회선 교환
* 교환기를 사용해서 파이프를 교체해가는 방식
* 한 대의 컴퓨터에 여러 대의 컴퓨터를 연결하고 싶다면, 파이프가 여러 개 사용해서 연결가능하다.
  하지만 컴퓨터의 수가 많아질수록 파이프의 수가 너무 많아진다.
* `교환기`를 사용함으로써 파이프의 수를 줄일 수 있다. (적은 파이프로 다수의 접속이 가능)
  - 컴퓨터에 연결된 파이프는 1개
  - 교환기 간의 회선은 여러 개

### 패킷 교환
* 송신하고 싶은 데이터를 일괄적으로 한번에 보내지 않고 여럿으로 분할해서 송신
* `패킷`: 분할한 데이터
* 패킷 1개를 보내는 시간이 짧아짐 **→** 패킷이 회선을 점유하는 시간이 짧아짐 **→** 복수의 컴퓨터가 회선을 공유 가능 
* 회선 1개로도 송수신이 가능해진다.
  - 패킷 교환기는 여전히 필요 (교환기 간 회선이 1개로 충분)
* 컴퓨터 네트워크는 패킷 교환 방식을 사용

<br><br>



# 네트워크의 구조

### 통신에 필요한 기기
* `라우터(Router)`: 실제 네트워크에서는 라우터가 패킷 교환기의 역할을 한다.

<img src="https://github.com/jinnyy/TIL/blob/master/ComputerScience/ComputerNetwork/img/network-01-05-network-structure-1.jpg?raw=true" />

* `컴퓨터 > 인터페이스` > ---회선--- > `인터페이스 > 라우터 > 인터페이스` > ---회선--- > `인터페이스 > 라우터 > 인터페이스` > ---회선--- > `인터페이스 > 컴퓨터`

### 멀티액세스 네트워크와 포인트 투 포인트 네트워크
* `세그먼트(Segment)`: 케이블 분배기로 연결되는 범위
  - 세그먼트 범위 내에 있는 컴퓨터는 패킷 교환 없이 직접 데이터를 송수신할 수 있다.
* `허브(Hub)`: T자 분배기 대신 허브를 사용할 수 있다.
  - 허브로 분배기를 만든다.
  - 허브를 사용한 네트워크에서는 컴퓨터 한 대가 세그먼트 내의 어떤 컴퓨터에도 자유롭게 데이터를 송신 가능
* 멀티엑세스 네트워크: 복수의 컴퓨터에 의한 데이터 송수신이 가능
* 포인트 투 포인트 네트워크: 컴퓨터 한 대가 다른 한 대의 컴퓨터에만 데이터를 보냄
  - 전용선이라는 회선을 사용하면 고정된 컴퓨터에만 데이터를 보냄
* 멀티엑세스 네트워크와 포인트 투 포인트 네트워크를 조합해서 패킷 교환 네트워크를 만든다.
  - `컴퓨터` ~ `허브` ~ `라우터`: 멀티엑세스 네트워크
  - `라우터` ~ `라우터`: 포인트 투 포인트 네트워크

<br><br>

# LAN과 WAN
* `LAN`: Local Area Network
* `WAN`: Wide Area Network


<table style="width:100%">
  <tr>
    <th></th>
    <th>LAN</th> 
    <th>WAN</th>
  </tr>
  <tr>
    <td>범위</td>
    <td>좁음 (구내)</td> 
    <td>넓음 (지역·국가 규모)</td>
  </tr>
  <tr>
    <td>케이블 설치</td>
    <td>자비</td> 
    <td>통신사업자</td>
  </tr>
  <tr>
    <td>사용요금</td>
    <td>무료</td> 
    <td>유로</td>
  </tr>
  <tr>
    <td>통신속도</td>
    <td>고속</td> 
    <td>저속</td>
  </tr>
  <tr>
    <td>에러 발생률</td>
    <td>낮다</td> 
    <td>높다</td>
  </tr>
</table>


<br><br>



# OSI 참조 모델

<table align=center>
  <tr>
    <td>제 7 계층</td>
    <td>응용 계층</td> 
    <td>사용자에게 네트워크 서비스 제공</td>
    <td rowspan="3">내용 표현</td>
  </tr>
  <tr>
    <td>제 6 계층</td>
    <td>표현 계층</td> 
    <td>데이터의 형식을 결정</td>
  </tr>
  <tr>
    <td>제 5 계층</td>
    <td>세션 계층</td> 
    <td>데이터 송수신의 순서 등을 관리</td>
  </tr>
  <tr>
    <td>제 4 계층</td>
    <td>전송 계층</td> 
    <td>신뢰성이 높은(에러가 적은) 전송을 시행</td>
    <td rowspan="2">전송물</td>
  </tr>
  <tr>
    <td>제 3 계층</td>
    <td>네트워크 계층</td> 
    <td>전송 규칙과 수신처를 결정</td>
  </tr>
  <tr>
    <td>제 2 계층</td>
    <td>데이터 링크 계층</td> 
    <td>인접기기 사이의 데이터 전송을 제어</td>
    <td rowspan="2">전송</td>
  </tr>
  <tr>
    <td>제 1 계층</td>
    <td>물리 계층</td> 
    <td>전기·기계적인 부분의 전송 시행</td>
  </tr>
</table>

* 계층마다 각각의 역할과 규칙이 있음
* 네트워크에 의한 데이터 통신은 **(단계마다의 규칙이 있으므로) 복수의 프로토콜로 실현**된다.
* 7계층에서 1계층으로 단계적으로 수행됨 (`송신측` -> `7계층` ~ `1계층` -> `전송 매체` -> `1계층` ~ `7계층` -> `수신측`
* 각 계층은 각각 독립적이다.
  - 어떤 계층의 포로토콜 변경은 다른 계층에 영향을 끼치지 않는다.
  - 하위 계층은 상위 계층을 위해 일하고 상위 계층은 하위 계층에 관여하지 않는다.

<br><br>



# 캡슐화

* 통신할 때 `데이터` 뿐 아니라 `제어용 정보`도 송수신해야 한다.
* 운반하고 싶은 데이터에 헤더를 추가해 캡슐을 만들어간다.
* `캡슐화`: 계층의 순서대로 헤더가 부가되어가는 것
* `PDU(Protocol Data Unit)`: `데이터`와 `데이터를 보내기 위해 필요한 정보`가 통합된 상태
```
- 보내고 싶은 것(데이터): 택배로 보내고 싶은 물건
- PDU(프로토콜 데이터 유닛): 보내고 싶은 물건(데이터)을 상자에 넣은 것
```
* 단계(계층)를 실시할 때마다 해당 계층에서 필요한 정보를 추가할 수 있다.


### PDU의 호칭

<table align=center>
  <tr>
    <th colspan="2">계층</th>
    <th>호칭</th>
    <th>내용</th>
    <th colspan="2">기타</th>
  </tr>
  <tr>
    <td colspan="2">사용자</td>
    <td>데이터 (Data)</td>
    <td>송수신하고 싶은 데이터</td>
    <td colspan="2"></td>
  </tr>
  <tr>
    <td>제 7 계층</td>
    <td>응용 계층</td>
    <td rowspan="3">메시지 (Message)</td>
    <td rowspan="3">데이터를 통신용으로 변환한 것과 7계층 헤더</td>
    <td>사용자에게 네트워크 서비스 제공</td>
    <td rowspan="3">내용 표현</td>
  </tr>
  <tr>
    <td>제 6 계층</td>
    <td>표현 계층</td> 
    <td>데이터의 형식을 결정</td>
  </tr>
  <tr>
    <td>제 5 계층</td>
    <td>세션 계층</td> 
    <td>데이터 송수신의 순서 등을 관리</td>
  </tr>
  <tr>
    <td>제 4 계층</td>
    <td>전송 계층</td>
    <td>세그먼트(Segment), 데이터그램(Datagram)</td>
    <td>메시지와 4계층 헤더</td>
    <td>신뢰성이 높은(에러가 적은) 전송을 시행</td>
    <td rowspan="2">전송물</td>
  </tr>
  <tr>
    <td>제 3 계층</td>
    <td>네트워크 계층</td>
    <td>데이터그램(Datagram)</td>
    <td>세그먼트·데이터그램과 3계층 헤더</td>
    <td>전송 규칙과 수신처를 결정</td>
  </tr>
  <tr>
    <td>제 2 계층</td>
    <td>데이터 링크 계층</td>
    <td>프레임(Frame)</td>
    <td>데이터그램과 2계층 헤더 (2계층 Tailer)</td>
    <td>인접기기 사이의 데이터 전송을 제어</td>
    <td rowspan="2">전송</td>
  </tr>
  <tr>
    <td>제 1 계층</td>
    <td>물리 계층</td> 
    <td>신호</td>
    <td>프레임을 전송매체로 운반하기 위한 신호로 변환</td>
    <td>전기·기계적인 부분의 전송 시행</td>
  </tr>
</table>

<br><br>



# 프로토콜

* 데이터 통신을 할 때 계층마다 사용하는 프로토콜이 다르다.
* 하위 계층 프로토콜이 상위 계층 프로토콜에 데이터를 전송할 수 있도록 `인터페이스`가 필요하다.
* `프로토콜군(Protocol Suite)`: 어느 프로토콜을 사용하는지에 따라 7계층에서 1계층까지 사용하는 프로토콜이 정해짐
  - 각각의 계층에서 사용되는 프로토콜을 통합한 것
* 데이터 통신은 같은 프로토콜군을 사용하는 컴퓨터나 기기끼리만 가능

### 프로토콜이 결정하는 것
* 데이터의 내용
* 헤더(어떤 헤더를 붙일지)
* 데이터를 주고받는 순서
* 데이터를 받았을 때 처리 순서 등

TCP/IP 프로토콜군이 인터넷에서 사용되는 사실표준이다.

<br><br>



# TCP/IP 모델
IETF라는 단체의 RFC에 의해 정해져 있는 것이 TCP/IP 프로토콜군이고 TCP/IP 모델이 베이스가 되어 만들어진 것이다.

<table align=center>
  <tr>
    <th colspan="2">TCP/IP 모델</th>
    <th colspan="2">OSI 참조 모델</th>
    <th>프로토콜</th>
  </tr>
  <tr>
    <td rowspan="3">4계층</td>
    <td rowspan="3">애플리케이션 계층</td>
    <td>7계층</td>
    <td>응용 계층</td>
    <td rowspan="3">HTTP(홈페이지 열람), FTP(파일 전송), SMTP(메일 송수신) 등</td>
  </tr>
  <tr>
    <td>6계층</td>
    <td>표현 계층</td>
  </tr>
  <tr>
    <td>5계층</td>
    <td>세션 계층</td>
  </tr>
  <tr>
    <td>3계층</td>
    <td>트랜스포트 계층</td>
    <td>4계층</td>
    <td>전송 계층</td>
    <td>TCP, UDP</td>
  </tr>
  <tr>
    <td>2계층</td>
    <td>인터넷 계층</td>
    <td>3계층</td>
    <td>네트워크 계층</td>
    <td>IP(Internet Protocol), ARP((Address Resolution Protocol)</td>
  </tr>
  <tr>
    <td rowspan="2">1계층</td>
    <td rowspan="2">인터페이스 계층</td>
    <td>2계층</td>
    <td>데이터링크 계층</td>
    <td>이더넷, 프레임 릴레이, PPP(Point-to-Point Protocol) 등</td>
  </tr>
  <tr>
    <td>1계층</td>
    <td>물리 계층</td>
  </tr>
</table>



<br><br><br>

## References
* 하루 3분 네트워크 교실, 아미노 에이지, 2016

